---
title: DOS 常用命令（Windows 平台）
date: 2018-10-03 23:17:36
tags: DOS命令与批处理
---
# 一 DOS 常用命令
## 1 目录命令
- `命令 /?`
作用：查看该命令帮助。

- 将旧文件夹 A 替换为新文件夹 A：
```
rd /S /Q D:\A
D:
cd D:\document
mkdir A 
xcopy /E C:\A D:\document\A
```
先删除整个 D 盘旧 A 文件夹；进入 D 盘并创建文件夹 A；将新 A 文件夹中的所有内容复制过去（命令可以删除整个文件夹，但复制只能复制某个文件夹中的全部内容）。

- `md/mkdir`
作用：创建一个子目录（make directory）。
语法：`md[C:][path]〈subPath〉`

- `cd`
作用：改变或显示当前目录（change directory）。
语法：`cd [C:][path]`
PS：路径可以使用绝对路径和相对路径两种。
cd\ 表示退回到根目录。
cd.. 表示退回到上级目录。
如果只有cd而没有参数，则只显示当前路径。
注意：子目录中一定有两个“特殊目录”，即“.”“..”，其中一点表示当前目录，两点表示上一层目录。
从简单实用的角度来看，我们只要学会逐层进入（cd 下一层某目录名），和逐层退出（cd..）就可以解决所有问题。

- `rd /s /q`
作用：删除文件夹及文件。

- `rd`
作用：删除空子目录（remove directory）。
语法：`rd [c:][path]`
PS：rd是专门删除空子目录的命令。

- `del`
作用：删除文件命令。
注意两条：一是不能删除非空目录；二是不能删除当前目录。

- `dir`
作用：主要用来显示一个目录下的文件和子目录。(directory)
语法：`dir [C:][path][filename][/o][/s][/p][/w][/a]`
PS：斜杠表示后面的内容是参数。
/p 显示信息满一屏时，暂停显示，按任意键后显示下一屏
/o 排序显示。o后面可以接不同意义的字母
/w 只显示文件名目录名，每行五个文件名。即宽行显示
/s 将目录及子目录的全部目录文件都显示
/a 显示隐藏文件

- `path`
作用：设置可执行文件的搜索路径，只对文件有效。
语法：`path[盘符1：][路径1][盘符2：][路径2]…`
PS：当运行一个可执行文件时，dos会先在当前目录中搜索该文件，若找到则运行之；若找不到该文件，则根据path命令所设置的路径，顺序逐条地到目录中搜索该文件

- `tree`
作用：显示指定驱动器上所有目录路径和这些目录下的所有文件名。
语法：`tree [盘符：][/f][>prn]`

- `deltree`
作用：删除目录树。
语法：`DELTREE [C1:][path1]`
PS：这个命令将整个指定目录树全部消灭，而不管它是否是只读、隐藏与否。使用应特别小心。它是一个危险命令。

## 2 磁盘命令
- `format`
作用：磁盘格式化。
语法：`format〈盘符：〉[/s][/4][/q]`

- `unformat`
作用：对进行过格式化误操作丢失数据的磁盘进行恢复。
语法：`unformat〈盘符〉[/l][/u][/p][/test]`

- `chkdsk`
作用：显示磁盘状态、内存状态和指定路径下指定文件的不连续数目。
语法：`chkdsk [盘符：][路径][文件名][/f][/v]`
PS：PS：例如要检查A盘使用情况，就输入chkdsk　A: ，检查c盘使用情况，就输入chkdsk　C: ，如果直接输入chkdsk，就检查当前磁盘的使用情况。

- `diskcopy`　
作用：复制格式和内容完全相同的软盘。
语法：`diskcopy[盘符1：][盘符2：]`

- `label`
作用：建立、更改、删除磁盘卷标。
语法：`label[盘符：][卷标名]`

- `vol`
作用：查看磁盘卷标号。
语法：`vol[盘符：]`

- `scandisk`
作用：检测磁盘的fat表、目录结构、文件系统等是否有问题，并可将检测出的问题加以修复。
语法：`scandisk[盘符1：]{[盘符2：]…}[/all]`

- `defrag`
作用：整理磁盘，消除磁盘碎块。
语法：`defrag[盘符：][/f]`
PS：选用/f参数，将文件中存在盘上的碎片消除，并调整磁盘文件的安排，确保文件之间毫无空隙。从而加快读盘速度和节省磁盘空间。

## 3 文件命令
- `copy`
作用：拷贝一个或多个文件到指定盘上。
语法：`copy [源盘][路径]（源文件名） [目标盘][路径](目标文件名）`

- `xcopy`
作用：复制指定的目录和目录下的所有文件连同目录结构。
语法：`xcopy [源盘：]〈源路径名〉[目标盘符：][目标路径名][/s][/v][/e]`
PS：xcopy是copy的扩展，可以把指定的目录连文件和目录结构一并拷贝，但不能拷贝隐藏文件和系统文件。

- `move`
作用：移动或重名名文件夹，移动文件。（不能跨盘符，跨盘符可先复制再删除）。

- `type`
作用：显示ascii码文件的内容。
语法：`type [C:][path][filename.ext]`
PS：type命令用来在屏幕上快速、简便地显示文本文件的内容，扩展名为TXT的文件是文本文件。

- `ren`
作用：对指定磁盘、目录中的一个文件或一组文件更改名称（rename）。
语法：`ren[盘符：][路径]〈旧文件名〉〈新文件名〉`
PS：改名操作只限于某个文件某组文件的名称，它不会更改文件所在的目录。

- `fc`
作用：比较文件的异同，并列出差异处。
语法：`fc[盘符：][路径名]〈文件名〉[盘符：][路径名][文件名][/a][/c][/n]`

- `attrib`
作用：修改指定文件的属性。
语法：`attrib[文件名][r][—r][a][—a][h][—h][—s]`

- `del`
作用：删除指定的文件。
语法：`del[盘符：][路径]〈文件名〉[/p]`

## 4 程序状态与配置
- `ipconfig`
作用：ipconfig这个命令查看计算机当前的网络配置信息。
ps：Ipconfig /all：完全显示计算机的网络信息，IP地址、MAC地址及其他相关的信息，都可以显示出来。
　　Ipconfig /release：释放计算机当前获得的IP地址。对于使用动态IP地址的单位来说，如果发现机器无法上网，而计算机从DHCP服务器处获得的IP地址等相关信息不完全，可以将该地址释放。
　　Ipconfig /renew：从DHCP服务器重新获得IP地址。释放了IP地址及相关信息之后，必须重新获得一个IP地址，直接输入此命令之后，便可以从DHCP服务器处获得一个IP地址。如果不用此命令，要想重新获得一个IP地址信息，需要重新启动计算机或注销计算机才行。

- `netstat`
作用：netstat命令可以查看单位的网络是否被攻击。
语法：`netstat [-a][-n][-b]`
PS：-a：显示所有连接和监听端口
　　-n：以数字形式显示地址和端口号
　　-b：显示包含于创建每个连接或监听端口的可执行组件。另外，使用该参数之后，还可以显示占用TCP协议端口的一些程序名称。

- `netstat -aon|findstr "80"`
查看特定端口。

- `tasklist|findstr "2448"`
查看此 pid 的进程。

- `tasklist`
作用：将整个计算机的进程显示出来，同任务管理器。
语法：tasklist

- `kill -f 进程名` 加-f参数后强制结束某进程（为系统的附加工具，默认是没有安装的，在安装目录的support/tools文件夹内）

- `ntsd`
作用：ntsd 是一条dos命令，功能是用于结束一些常规下结束不了的死进程。
使用：
1.利用进程的PID结束进程
命令格式：ntsd -c q -p pid
命令范例：ntsd -c q -p 1332 （结束explorer.exe进程）
2.利用进程名结束进程
命令格式：ntsd -c q -pn .exe （.exe 为进程名，exe不能省）
命令范例：ntsd -c q -pn explorer.exe
3.taskkill结束进程
命令格式：taskkill /pid 1234 /f （ 也可以达到同样的效果）

## 5 其他
- `ping`

- `tracert`

- `arp`

- `shutdown`

- `net`
`net view`:使用此命令查看远程主机的所有共享资源。命令格式为net view \IP。
`net use`：把远程主机的某个共享资源影射为本地盘符，图形界面方便使用。命令格式为net use x: \IP\sharename。
`net start`：使用它来启动远程主机上的服务。用法：net start servername
`net stop`：入侵后发现远程主机的某个服务碍手碍脚，怎么办？利用这个命令停掉就ok了，用法和net start同。
`net user`：查看和帐户有关的情况，包括新建帐户、删除帐户、查看特定帐户、激活帐户、帐户禁用等。
1，net user abcd 1234 /add，新建一个用户名为abcd，密码为1234的帐户，默认为user组成员。
2，net user abcd /del，将用户名为abcd的用户删除。
3，net user abcd /active:no，将用户名为abcd的用户禁用。
4，net user abcd /active:yes，激活用户名为abcd的用户。
5，net user abcd，查看用户名为abcd的用户的情况
`net localgroup`：查看所有和用户组有关的信息和进行相关操作。
`net time`：这个命令可以查看远程主机当前的时间。

- `at`
必须正在开启Task scheduler服务才能使用 at 命令。可以在命令窗口中输入net start schedule启动它。
作用：这个命令的作用是安排在特定日期或时间执行某个特定的命令和程序。
用法：at time command \computer

- `ftp`
作用：首先在命令行键入ftp回车，出现ftp的提示符，这时候可以键入“help”来查看帮助（任何DOS命令都可以使用此方法查看其帮助）。
1.ftp
2.open 主机IP ftp端口
3.录入用户名和密码，就可以进行相应操作了。
dir 跟DOS命令一样，用于查看服务器的文件，直接敲上dir回车，就可以看到此ftp服务器上的文件。
cd 进入某个文件夹。
get 下载文件到本地机器。
put 上传文件到远程服务器。这就要看远程ftp服务器是否给了你可写的权限了，如果可以，呵呵，该怎么 利用就不多说了，大家就自由发挥去吧。
delete 删除远程ftp服务器上的文件。这也必须保证你有可写的权限。
bye 退出当前连接。
quit 同上。

- `telnet`